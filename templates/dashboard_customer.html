{% extends "base.html" %}
{% block content %}
<style>
  /* Base styles */
  body {
    font-family: 'Arial', sans-serif;
    background-color: #121212;
    color: #e0e0e0;
    margin: 0;
    padding: 0;
  }

  .container {
    width: 80%;
    margin: 0 auto;
    padding: 20px;
    background-color: #1c1c1c;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.6);
  }

  h1.title {
    color: #f5f5f5;
    font-size: 2.5rem;
    margin-bottom: 20px;
  }

  h2.subtitle {
    color: #bdc3c7;
    font-size: 1.8rem;
    margin-bottom: 20px;
  }

  .table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
  }

  .table th, .table td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid #444;
  }

  .table th {
    background-color: #34495e;
    color: #ecf0f1;
    font-weight: bold;
  }

  .table td {
    background-color: #2c3e50;
    color: #ecf0f1;
  }

  .table tr:hover td {
    background-color: #34495e;
  }

  .table .status-paid {
    color: #2ecc71;
    font-weight: bold;
  }

  .table .status-unpaid {
    color: #e74c3c;
    font-weight: bold;
  }

  .profile-info p {
    font-size: 1.1rem;
    margin: 10px 0;
  }

  .profile-info strong {
    color: #ecf0f1;
  }

  .amount-due, .fine {
    color: #e74c3c;
    font-weight: bold;
  }

  .balance {
    color: #2ecc71;
    font-weight: bold;
  }

  .section-title {
    margin-top: 40px;
    margin-bottom: 10px;
    font-size: 1.6rem;
    color: #ecf0f1;
  }

  .button {
    background-color: #3498db;
    color: white;
    padding: 10px 20px;
    text-align: center;
    font-size: 1rem;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
  }

  .button:hover {
    background-color: #2980b9;
  }

  /* Additional styling for light hover effects */
  .button-container {
    margin-top: 20px;
  }
</style>

<div class="container">
  <h1 class="title">Customer Dashboard</h1>
  
  {% if profile %}
    <div class="profile-info">
      <p><strong>ID:</strong> {{ profile.id }}</p>

      {% if profile.customer_type == 'prepaid' %}
        <p><strong>Current Balance:</strong> <span class="balance">{{ profile.balance }}</span></p>
      {% else %}
        <p><strong>Amount Due:</strong> <span class="amount-due">{{ profile.bill_amount }}</span></p>
        <p><strong>Due Date:</strong> {{ profile.due_date }}</p>
        <p><strong>Fine:</strong> <span class="fine">{{ profile.fine or 0 }}</span></p>
      {% endif %}
    </div>
  {% endif %}

  <h2 class="section-title">Old Bills</h2>
  
  <table class="table is-fullwidth is-striped">
    <thead>
      <tr>
        <th>Amount</th>
        <th>Status</th>
        <th>Due</th>
      </tr>
    </thead>
    <tbody>
      {% for b in bills %}
        <tr>
          <td>{{ b.amount }}</td>
          <td class="status-{{ 'paid' if b.status == 'paid' else 'unpaid' }}">{{ b.status }}</td>
          <td>{{ b.due_date or '-' }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  
  <div class="button-container">
    <button class="button">Pay Now</button>
  </div>
</div>

{% endblock %}
